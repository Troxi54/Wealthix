function theme(){for(let e=0;e<arguments.length;e++){let t=arguments[e];if(t&&"string"==typeof t&&(t=t.replace(/[ ]/g,"")).includes(":")){let n=t.indexOf(":");if(0!==n&&n!==t.length-1){let r=t.slice(0,n),o=t.slice(n+1);document.documentElement.style.setProperty("--"+r,o)}}}}function resetGame(){localStorage.removeItem(saveName),window.location.reload()}!function(){let e={update(e,t){e.innerHTML!==t&&(e.innerHTML=t)},updateAll(){for(let t in e)if(!["update, updateAll"].includes(t)){let n=document.querySelector(("#"+t).replace(/[_]/g,"-"));n&&e.update(n,e[t]())}},cash_amount:()=>`${G.format(H.cash)}$`,main_frame_header:()=>o[r],selling:()=>d?G.format(H.generatorsInInventory[l].sellCost,2)+"$":"Sell",selling_2:()=>c?G.format(H.generatorsInInventory[m].sellCost,2)+"$":"Sell",placing_generator_info:()=>p?"Unequipping a generator":"Placing the generator",upgrading:()=>v?`${G.format(H.generatorsInInventory[l].getLevelCost())}$`:"Upgrade",close_main_frame_text:()=>y?"<":">",is_inventory_empty:()=>0===H.generatorsInInventory.length?"Your inventory is empty":"",bulk_sell_text:()=>f?"Cancel":"Bulk sell",close_upgrade_frame_text:()=>g?">":"<",level:()=>`Level <span class="level">${G.format(H.level)}</span>`,level_up_text:()=>G.format(q)+"$",inventory_slots:()=>G.format(H.generatorsInInventory.length+H.generatorsOnField.filter(e=>e instanceof A).length)+"/"+G.format(h),diamond_amount:()=>C(25)?G.format(H.diamonds)+"\uD83D\uDC8E":"",cash_income:()=>`+${G.format(b,2)}$/s<br>+${G.format(3600*b,2)}$/h`,upgrade_frame_header:()=>s[a],diamond_info:()=>`Every time generator gives <span class="cash">$</span>, it can also give you diamonds with a <span class="diamond">${.1*F}%</span> chance. Below are the upgrades you can buy with diamonds.`,diamond_upgrade_1_info:()=>`Increase your income by <span class="cash">+0.1%</span><br>${H.diamondUpgrades[1].level>0?'Effect: <span class="cash">+'+G.format((H.diamondUpgrades[1].effectFormula(H.diamondUpgrades[1].level)-1)*100,1)+"%</span>":""}`,diamond_upgrade_1_level:()=>`Level ${G.format(H.diamondUpgrades[1].level)}${H.diamondUpgrades[1].maxLevel===1/0?"":"/"+G.format(H.diamondUpgrades[1].maxLevel)}`,diamond_upgrade_1_buy_info:()=>`${H.diamondUpgrades[1].level<H.diamondUpgrades[1].maxLevel?G.format(H.diamondUpgrades[1].costFormula(H.diamondUpgrades[1].level)):"Maxed"}ðŸ’Ž`,diamond_upgrade_2_info:()=>`Increase your slots by <span class="slot">+1</span><br>${H.diamondUpgrades[2].level>0?'Effect: <span class="slot">+'+G.format(H.diamondUpgrades[2].effectFormula(H.diamondUpgrades[2].level))+"</span>":""}`,diamond_upgrade_2_level:()=>`Level ${G.format(H.diamondUpgrades[2].level)}${H.diamondUpgrades[2].maxLevel===1/0?"":"/"+G.format(H.diamondUpgrades[2].maxLevel)}`,diamond_upgrade_2_buy_info:()=>`${H.diamondUpgrades[2].level<H.diamondUpgrades[2].maxLevel?G.format(H.diamondUpgrades[2].costFormula(H.diamondUpgrades[2].level)):"Maxed"}ðŸ’Ž`,diamond_upgrade_3_info:()=>`Increase your inventory slots by <span class="inventory-slot">+1</span><br>${H.diamondUpgrades[3].level>0?'Effect: <span class="inventory-slot">+'+G.format(H.diamondUpgrades[3].effectFormula(H.diamondUpgrades[3].level))+"</span>":""}`,diamond_upgrade_3_level:()=>`Level ${G.format(H.diamondUpgrades[3].level)}${H.diamondUpgrades[3].maxLevel===1/0?"":"/"+G.format(H.diamondUpgrades[3].maxLevel)}`,diamond_upgrade_3_buy_info:()=>`${H.diamondUpgrades[3].level<H.diamondUpgrades[3].maxLevel?G.format(H.diamondUpgrades[3].costFormula(H.diamondUpgrades[3].level)):"Maxed"}ðŸ’Ž`},t="Wealthix",n=Date.now(),r=0,o=["Shop","Inventory"],a=0,s=["Level","Diamonds"],l=null,i=!1,d=!1,c=!1,u="",p=!1,m=null,v=!1,y=!1,g=!1,f=!1,$=!1,_=1,h=null,q=null,I=1,L=!0,S=!0,b=0,F=null,T=null,E=null,w=null,U=!1,M=[{requirement:2,description:'Increase your income by <span class="cash">+10%</span>.'},{requirement:3,description:'Increase your income by <span class="cash">+1%</span> per level.'},{requirement:4,description:'<span class="slot">+1</span> slot.'},{requirement:5,description:'<span class="inventory-slot">+1</span> inventory slot.'},{requirement:6,description:'<span class="slot">+1</span> slot.'},{requirement:7,description:'<span class="inventory-slot">+2</span> inventory slots.'},{requirement:8,description:'<span class="inventory-slot">+3</span> inventory slots.'},{requirement:9,description:'<span class="slot">+1</span> slot.'},{requirement:10,description:'<span class="inventory-slot">+4</span> inventory slots.'},{requirement:11,description:'<span class="inventory-slot">+5</span> inventory slots.'},{requirement:12,description:'<span class="slot">+1</span> slot.'},{requirement:13,description:'<span class="inventory-slot">+6</span> inventory slots.'},{requirement:14,description:'<span class="slot">+1</span> slot.'},{requirement:15,description:'Unlock new <span style="color: var(--intermediate-constructor-div-bg-color);">constructor</span>.'},{requirement:16,description:'<span class="inventory-slot">+7</span> inventory slots.'},{requirement:17,description:'<span class="inventory-slot">+8</span> inventory slots.'},{requirement:18,description:'<span class="slot">+1</span> slot.'},{requirement:19,description:'<span class="inventory-slot">+9</span> inventory slots.'},{requirement:20,description:'<span class="inventory-slot">+10</span> inventory slots.'},{requirement:21,description:'<span class="slot">+1</span> slot.'},{requirement:22,description:'<span class="inventory-slot">+11</span> inventory slots.'},{requirement:23,description:'<span class="inventory-slot">+12</span> inventory slots.'},{requirement:24,description:'<span class="slot">+1</span> slot.'},{requirement:25,description:'Unlock <span class="diamond">diamonds</span> and increase your income by <span class="cash">+5%</span>.'},{requirement:26,description:'<span class="inventory-slot">+13</span> inventory slots.'},{requirement:27,description:'<span class="inventory-slot">+14</span> inventory slots.'},{requirement:28,description:'<span class="slot">+1</span> slot.'},{requirement:29,description:'<span class="inventory-slot">+15</span> inventory slots.'},{requirement:30,description:'<span class="inventory-slot">+16</span> inventory slots.'},{requirement:31,description:'<span class="slot">+1</span> slot.'},{requirement:32,description:'<span class="inventory-slot">+17</span> inventory slots.'},{requirement:33,description:'<span class="inventory-slot">+18</span> inventory slots.'},{requirement:34,description:'<span class="slot">+1</span> slot.'},{requirement:35,description:'<span class="inventory-slot">+19</span> inventory slots.'},{requirement:36,description:'<span class="inventory-slot">+20</span> inventory slots.'},{requirement:37,description:'<span class="inventory-slot">+5</span> inventory slots per level, starting at this one.'},{requirement:38,description:'<span class="slot">+1</span> slot.'},{requirement:39,description:'<span class="slot">+1</span> slot per 5 levels, starting at this one.'},{requirement:40,description:'Unlock new <span style="color: var(--advanced-constructor-div-bg-color);">constructor</span>.'},];function C(e){let t=M.find(t=>t.requirement===e);if(void 0!==t)return H.level>=t.requirement}let x={addEvent(e,t){e.addEventListener("click",t)},addAllEvents(){for(let e in x)if(!["addEvent"].includes(e)){let t=document.querySelector(("#"+e).replace(/[_]/g,"-"));t&&x.addEvent(t,x[e])}},inventory_tools_close(){G.closeInventoryTools(),l=null},equip_generator(){G.closeInventoryTools(),document.querySelector("#placing-generator").show(),i=!0,document.body.classList.add("placingGenerator")},cancel_placing_generator(){p?G.cancelUnequippingGenerator():G.cancelPlacingGenerator()},sell_generator(){if(U&&H.cash+H.generatorsInInventory[l].sellCost<O.newbie.cost){G.label("If you sell this generator, you won't have generators and you won't be able to buy another one!","negative");return}d?(H.cash+=H.generatorsInInventory[l].sellCost,H.generatorsInInventory.splice(l,1),G.updateInventoryHTML(),G.closeInventoryTools()):d=!0,v=!1,document.querySelector("#upgrade-generator-bulk").hide()},generator_got_sell(){if(U&&H.cash+H.generatorsInInventory[m].sellCost<O.newbie.cost){G.label("If you sell this generator, you won't have generators and you won't be able to buy another one!","negative");return}c?(H.cash+=H.generatorsInInventory[m].sellCost,H.generatorsInInventory.splice(m,1),G.updateInventoryHTML(),G.closeGeneratorGotMenu()):c=!0},constructor_opened_close(){G.closeConstructor()},constructor_opened_buy(){G.buyConstructor(u)},generator_got_ok(){G.closeGeneratorGotMenu(),G.updateInventoryHTML()},unequip_generator(){document.querySelector("#unequip-generator").hide(),document.querySelector("#placing-generator").show(),p=!0,document.body.classList.add("unequippingGenerator")},upgrade_generator(){if(v){let e=H.generatorsInInventory[l].getLevelCost();H.cash>=e?(H.generatorsInInventory[l].level+=_,H.cash-=e,H.generatorsInInventory[l].updateEverything(),G.updateInventoryHTML(),G.updateHTMLInInventoryTools()):G.label("Not enough cash!","negative")}v=!0,d=!1,document.querySelector("#upgrade-generator-bulk").show()},close_main_frame(){let e=document.querySelector("#main-frame"),t=document.querySelector("#main-frame-container");y?(t.className="",e.show()):(t.className="hidden",e.hide()),y=!y},bulk_sell(){H.generatorsInInventory.length>0&&(f=!f)},close_upgrade_frame(){let e=document.querySelector("#upgrade-frame"),t=document.querySelector("#upgrade-frame-container");g?(t.className="",e.show()):(t.className="hidden",e.hide()),g=!g},level_up(){if(H.cash<q){G.label("Not enough cash!","negative");return}H.cash-=q,H.level+=1,G.updateValues(),G.updateInventoryGenerators(),G.updateInventoryHTML(),G.updateLevelMilestones()},diamond_upgrade_1_buy(){let e=H.diamondUpgrades[1].costFormula(H.diamondUpgrades[1].level);if(H.diamondUpgrades[1].level>=H.diamondUpgrades[1].maxLevel){G.label("This upgrade is maxed","negative");return}if(H.diamonds<e){G.label("Not enough diamonds!","negative");return}H.diamonds-=e,H.diamondUpgrades[1].level+=1,G.updateValues(),G.updateInventoryGenerators(),G.updateInventoryHTML()},diamond_upgrade_2_buy(){let e=H.diamondUpgrades[2].costFormula(H.diamondUpgrades[2].level);if(H.diamondUpgrades[2].level>=H.diamondUpgrades[2].maxLevel){G.label("This upgrade is maxed","negative");return}if(H.diamonds<e){G.label("Not enough diamonds!","negative");return}H.diamonds-=e,H.diamondUpgrades[2].level+=1,G.updateValues()},diamond_upgrade_3_buy(){let e=H.diamondUpgrades[3].costFormula(H.diamondUpgrades[3].level);if(H.diamondUpgrades[3].level>=H.diamondUpgrades[3].maxLevel){G.label("This upgrade is maxed","negative");return}if(H.diamonds<e){G.label("Not enough diamonds!","negative");return}H.diamonds-=e,H.diamondUpgrades[3].level+=1,G.updateValues()},afk_time_okay(){G.closeAfkTimeMenu()},settings(){G.openSettings()},settings_menu_close(){G.closeSettings()}};Element.prototype.hide=function(){this.style.display="none"},Element.prototype.show=function(){this.style.display=""},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Number.prototype.min=function(e){return this<e?this:e},Number.prototype.max=function(e){return this>e?this:e},Number.prototype.softcap=function(e,t,n,r=!1){var o=this;return!r&&o>=e&&([0,"pow"].includes(n)&&(o=(o/e).max(1)**t*e),[1,"mul"].includes(n)&&(o=(o-e)/t+e)),o};let H={cash:10,slots:9,level:1,generatorsOnField:[],generatorsInInventory:[],incomeRate:1,discoveredGenerators:{},openingConstructorSpeed:1,diamonds:0,diamondUpgrades:{1:{level:0,maxLevel:1/0,effectFormula:e=>1+.001*e,costFormula:e=>1*(1+Math.floor(e/100))},2:{level:0,maxLevel:20,effectFormula:e=>1*e,costFormula:e=>10*(e+1)},3:{level:0,maxLevel:1/0,effectFormula:e=>1*e,costFormula:e=>1*(1+Math.floor(e/100))}},lastIncome:Date.now(),lastLoop:Date.now()},G={format(e,t=0){let n=["","K","M","B","T","Qd","Qn","Sx","Sp"],r=function(e,t){return Math.floor(e*10**t)/10**t};if(0===(e+=e/1e12))return"0";if(e>0&&e<1||e<1e3)return r(e,t)+"";if(e<1e9)return(r(e,0)+"").replace(/\B(?=(\d{3})+(?!\d))/g,",");if(e<1e3**n.length){let o=function(e,t){let r=Math.floor(Math.log10(e)/3);return Math.floor(e/1e3**r*10**t)/10**t+n[r]},a=Math.floor(Math.log10(e)/3),s=e-Math.floor(e/1e3**a*1e3)/1e3*1e3**a;return s?o(e,3)+" + "+o(s,0):o(e,3)}return e.toExponential(4).replace(/[+]/g,"")},msToTime(e){var t=e%1e3,n=(e=(e-t)/1e3)%60,r=(e=(e-n)/60)%60,o=(e=(e-r)/60)%24,a=(e-o)/24,s=Math.floor(a/365.25);return(s?s+"y. ":"")+((a=Math.floor(a%365.25))?a+"d. ":"")+(o?o+"h. ":"")+(o||r?r+"m. ":"")+n+"s. "},updateValues(){H.incomeRate=1,H.openingConstructorSpeed=1,q=(25*1.75**(H.level-1)).softcap(25e3,.5,"pow").softcap(1e6,.5,"pow").softcap(1e7,.5,"pow").softcap(1e8,.5,"pow").softcap(1e9,.5,"pow"),I=1,C(2)&&(I*=1.1),C(3)&&(I*=1+H.level/100),C(25)&&(I*=1.05),I*=H.diamondUpgrades[1].effectFormula(H.diamondUpgrades[1].level),b=0,H.generatorsOnField.forEach(e=>{e instanceof A&&(b+=e.income*H.incomeRate)}),h=10,C(5)&&h++,C(7)&&(h+=2),C(8)&&(h+=3),C(10)&&(h+=4),C(11)&&(h+=5),C(13)&&(h+=6),C(16)&&(h+=7),C(17)&&(h+=8),C(19)&&(h+=9),C(20)&&(h+=10),C(22)&&(h+=11),C(23)&&(h+=12),C(26)&&(h+=13),C(27)&&(h+=14),C(29)&&(h+=15),C(30)&&(h+=16),C(32)&&(h+=17),C(33)&&(h+=18),C(35)&&(h+=19),C(36)&&(h+=20),C(37)&&(h+=5*(H.level-36).max(0)),h+=H.diamondUpgrades[3].effectFormula(H.diamondUpgrades[3].level);let e=9;C(4)&&e++,C(6)&&e++,C(9)&&e++,C(12)&&e++,C(14)&&e++,C(18)&&e++,C(21)&&e++,C(24)&&e++,C(28)&&e++,C(31)&&e++,C(34)&&e++,C(38)&&e++,C(39)&&(e+=Math.floor((H.level-34)/5)),e+=H.diamondUpgrades[2].effectFormula(H.diamondUpgrades[2].level);let t=e-H.slots;if(H.slots=e,t<0)G.clearField();else if(t>0){let n=document.querySelector("#field");for(let r=0;r<t;r++)H.generatorsOnField.push(void 0),n.append(G.getUndefinedGenerator(n.children.length))}F=1,T=1,w=10,E=Math.floor((Date.now()-H.lastIncome)/(1e3*H.incomeRate)),U=!1,U=H.generatorsInInventory.length<=1&&0===H.generatorsOnField.filter(e=>e instanceof A).length},updateInventoryGenerators(){H.generatorsInInventory.forEach(e=>e.updateEverything())},updateInventoryHTML(){document.querySelectorAll("#inventory-generator-container > button").forEach(e=>{e.remove()}),H.generatorsInInventory.forEach((e,t)=>{e.index=t,document.querySelector("#inventory-generator-container").append(e.inventoryHTML)})},updateFieldGeneratorValues(){H.generatorsOnField.forEach(e=>{e instanceof A&&e.updateEverything()})},getUndefinedGenerator(e){let t=document.createElement("div");return t.classList.add("generator"),t.classList.add("undefined"),t.innerHTML="<p>+</p>",t.addEventListener("mousedown",()=>{i&&(H.generatorsInInventory[l].addToField(e),G.cancelPlacingGenerator(),G.updateInventoryHTML())}),t},appendUndefinedGenerator(e,t){let n=document.querySelector("#field"),r=document.querySelectorAll("#field > .generator");t<r.length?n.insertBefore(e,n.children[t]):n.append(e)},fillGeneratorArray(){let e=document.querySelector("#field");H.generatorsOnField.forEach((t,n)=>{if(t instanceof A)e.append(t.fieldHTML);else{let r=this.getUndefinedGenerator(n);e.append(r)}})},switchMainTab(e){document.querySelectorAll("#main-frame-content > div").forEach((t,n)=>{e!==n&&t.hide()}),document.querySelectorAll("#main-frame-content > div")[e].show(),r=e},updateHTMLInInventoryTools(){let e=document.querySelector("#inventory-tools");e.querySelectorAll(".inventory-generator").forEach(e=>{e.remove()}),H.generatorsInInventory[l].updateEverything();let t=H.generatorsInInventory[l];e.append(t.inventoryHTML),document.querySelector("#inventory-tools-info").innerHTML=`<span class="rarity">Rarity:</span> ${t.type.capitalize()}<br><span class="cash">Income:</span> +${G.format(t.income,2)}$<br><span class="level">Level:</span> ${t.level}`},closeInventoryTools(){document.querySelector("#frame").hide(),document.querySelector("#inventory-tools").hide(),document.querySelector("#upgrade-generator-bulk").hide(),d=!1,v=!1},cancelPlacingGenerator(){i&&(i=!1,document.body.classList.remove("placingGenerator"),document.querySelector("#placing-generator").hide())},updateConstructorGenerators(){let e=document.querySelector("#constructor-opened-generators");e.innerHTML="",O[u].chances.forEach(t=>{let n=new A(t[0]).inventoryHTML;H.discoveredGenerators[t[0]]||(n.className="inventory-generator",t[1]>1?n.classList.add("undiscovered"):t[1]>.01?n.classList.add("super-undiscovered"):n.classList.add("mega-undiscovered"),n.children[0].innerHTML="",n.children[1].innerHTML="?"),n.children[2].innerHTML=t[1]+"%",e.append(n)})},openConstructor(e){if(e){let t="intermediate"===e?C(15):"advanced"!==e||C(40);if(t){document.querySelector("#constructor-opened").show(),document.querySelector("#frame").show();let n=document.querySelector("#constructor-opened-div");n.className="div",n.classList.add(e),document.querySelector("#constructor-opened-info").innerHTML=`${e.capitalize()} constructor<br><span class="cash">${this.format(O[e].cost)}$</span>`,u=e,this.updateConstructorGenerators()}}},closeConstructor(){document.querySelector("#frame").hide(),document.querySelector("#constructor-opened").hide()},buyConstructor(e){let t="intermediate"===e?C(15):"advanced"!==e||C(40),n=H.generatorsInInventory.length+H.generatorsOnField.filter(e=>e instanceof A).length<h;if(!t||$)return;if(H.cash<O[e].cost){G.label("Not enough cash!","negative");return}if(!n){G.label("Not enough inventory slots!","negative");return}H.cash-=O[e].cost,$=!0;let r=document.querySelector("#div-animation"),o=document.querySelector("#div-animation-frame");r.className="div no-transition",r.classList.add(u),r.style.transform="scale(2)",r.classList.remove("no-transition"),o.style.opacity="0",o.show(),o.style.transition="all "+500/H.openingConstructorSpeed+"ms",setTimeout(()=>{o.style.opacity="1",setTimeout(()=>{setTimeout(()=>{r.style.transition="all "+1e3/H.openingConstructorSpeed+"ms",r.style.transform="scale(4)",r.style.opacity="0",setTimeout(()=>{r.style="",o.style="",o.hide();let t=0,n=100*Math.random();O[e].chances.every(e=>{if(n<(t+=e[1])){let r=new A(e[0]);return r.addToInventory(),r.openGeneratorGotMenu(),H.discoveredGenerators[e[0]]||(H.discoveredGenerators[e[0]]={gottenTimes:0,firstReceiptDate:Date.now()},this.updateConstructorGenerators()),!1}return!0})},1e3/H.openingConstructorSpeed)},100/H.openingConstructorSpeed)},500/H.openingConstructorSpeed)},16.666666666666668)},closeGeneratorGotMenu(){document.querySelector("#frame-2").hide(),document.querySelector("#generator-got").hide(),c=!1,$=!1},cancelUnequippingGenerator(){p&&(p=!1,document.body.classList.remove("unequippingGenerator"),document.querySelector("#placing-generator").hide(),G.isFieldEmpty()&&document.querySelector("#unequip-generator").show())},isFieldEmpty:()=>(is=!1,H.generatorsOnField.every(e=>!(e instanceof A)||(is=!0,!1)),is),clearField(){H.generatorsOnField.forEach(e=>{e instanceof A&&e.addToInventory()}),H.generatorsOnField=[...Array(H.slots)],document.querySelector("#field").innerHTML="",G.fillGeneratorArray()},updateLevelMilestones(){let e=document.querySelector("#level-milestones");e.innerHTML="",M.every((t,n)=>{let r=n-2;if(r>=0&&H.level<M[r].requirement){let o=document.createElement("div");return o.innerHTML="<br><p>Level up to see more</p>",e.append(o),!1}let a=document.createElement("div");return a.innerHTML=`<p>Level ${t.requirement}<br><span class="level-milestone-description">${t.description}</span></p>`,e.append(a),!0})},switchUpgradeTab(e){document.querySelectorAll("#upgrade-frame-content > div").forEach((t,n)=>{e!==n&&t.hide()}),document.querySelectorAll("#upgrade-frame-content > div")[e].show(),a=e},calculateAfk(){let e=0,t=0;H.generatorsOnField.forEach((n,r)=>{n instanceof A&&(e+=n.income*(E-1),t+=n.getDiamondAmount()*Math.floor(n.getDiamondChance()*(E-1)/100))}),H.cash+=e,C(25)&&(H.diamonds+=t)},afkTime(){let n=Date.now()-H.lastLoop;if(localStorage.getItem(t)&&n>=1e4){let r=Math.floor(n/H.incomeRate/1e3),o=0,a=0;H.generatorsOnField.forEach((e,t)=>{e instanceof A&&(o+=e.income*r,a+=e.getDiamondAmount()*Math.floor(e.getDiamondChance()*r/100))}),o=Math.floor(o*(w/100)),a=Math.floor(a*(w/100)),C(25)||(a=0);let s=.75;(o||a)&&(s=.5);let l=document.querySelector("#aft-time-info");e.update(l,`You weren't here for <span style="font-size: 125%">${G.msToTime(Date.now()-H.lastLoop)}</span>`+(o||a?` and you get <span class="negative">${G.format(w,2)}%</span> of the values â€‹â€‹you earned during this time.<br><br><span style="font-size: 150%">${o?'<span class="cash">+'+G.format(o)+"$</span>":""}<br>${a?'<span class="diamond">+'+G.format(a)+"\uD83D\uDC8E</span>":""}</span>`:"")),l.style.fontSize=s+"em",H.cash+=o,H.diamonds+=a,document.querySelector("#afk-time").show(),document.querySelector("#frame").show(),H.lastLoop=Date.now()}},closeAfkTimeMenu(){document.querySelector("#frame").hide(),document.querySelector("#afk-time").hide()},openSettings(){document.querySelector("#settings-menu").show(),document.querySelector("#frame").show()},closeSettings(){document.querySelector("#frame").hide(),document.querySelector("#settings-menu").hide()},label(e,t){if(!["positive","negative","neutral"].includes(t))return;let n=document.querySelector("#label"),r=getComputedStyle(n).getPropertyValue("--first-timeout");r&&clearTimeout(+r);let o=getComputedStyle(n).getPropertyValue("--second-timeout");o&&clearTimeout(+o),n.classList=t+" no-transition",n.style.opacity=1,n.innerHTML=e,n.show(),n.style.setProperty("--first-timeout",setTimeout(()=>{n.classList.remove("no-transition"),n.style.opacity=0,n.style.setProperty("--second-timeout",setTimeout(()=>{n.hide()},(getComputedStyle(n).transitionDelay.slice(0,-1)+getComputedStyle(n).transitionDuration.slice(0,-1))*1e3))},16.666666666666668))}};window.onload=()=>{H.generatorsOnField=[...Array(H.slots)],document.querySelector("#upgrade-generator-input").addEventListener("input",function(){this.value.length>3&&(this.value=this.value.slice(0,3)),""!==this.value&&1>+this.value&&(this.value=1),this.value=this.value.replace(/[.]/g,""),this.value&&(_=+this.value)}),document.querySelector("#upgrade-generator-input").addEventListener("focusout",function(){this.value||(this.value="1"),_=+this.value}),document.querySelectorAll("#main-frame-tabs > button").forEach((e,t)=>{e.addEventListener("click",()=>{G.switchMainTab(t)})}),document.querySelectorAll("#upgrade-frame-tabs > button").forEach((e,t)=>{e.addEventListener("click",()=>{G.switchUpgradeTab(t)})}),document.querySelectorAll("#shop-content > div > div > button").forEach((e,t)=>{e.addEventListener("click",()=>{G.openConstructor(e.id)})}),window.addEventListener("click",function(e){["upgrade-generator","upgrade-generator-input"].includes(e.target.id)||(v=!1,document.querySelector("#upgrade-generator-bulk").hide()),["sell-generator"].includes(e.target.id)||(d=!1)}),x.addAllEvents(),G.switchMainTab(0),G.switchUpgradeTab(0),function e(){let n=localStorage.getItem(t);if(n){let r=JSON.parse(window.atob(n));if(r)for(let o in r){if(["generatorsOnField","generatorsInInventory"].includes(o)&&r[o].forEach((e,t)=>{e&&"object"==typeof e&&e.level&&e.type&&(r[o][t]=new A(e.type,{level:e.level,index:e.index}))}),["diamondUpgrades"].includes(o)){for(let a in r[o])H[o][a].level=+r[o][a].level;continue}H[o]=r[o]}}}(),H.lastIncome=Date.now(),G.updateValues(),G.updateFieldGeneratorValues(),G.afkTime(),G.fillGeneratorArray(),G.updateInventoryHTML(),G.updateLevelMilestones(),H.generatorsOnField.forEach((e,t)=>{e&&e instanceof A&&(e.index=t)}),setInterval(()=>{if(!document.hidden){G.updateValues(),E>=2&&G.calculateAfk(),H.slots<H.generatorsOnField.length&&G.clearField();let r=document.querySelector("#field"),o=100/Math.ceil(H.slots**.5);document.documentElement.style.setProperty("--generator-size",o+"%"),document.documentElement.style.setProperty("--generator-size-px",r.clientWidth*o/100+"px"),document.documentElement.style.setProperty("--generator-dimension",Math.ceil(H.slots**.5));let s=document.querySelector("#unequip-generator");G.isFieldEmpty()?p||s.show():(s.hide(),p&&G.cancelUnequippingGenerator());let l=document.querySelector("#diamond-tab");C(25)?l.show():(l.hide(),1===a&&G.switchUpgradeTab(0));let i=document.querySelector("#intermediate-constructor");C(15)?L&&(i.show(),L=!1):(i.hide(),L=!0);let d=document.querySelector("#advanced-constructor");C(40)?S&&(d.show(),S=!1):(d.hide(),S=!0);let c=e=>{e instanceof A&&e.updateEverything()};if(H.generatorsInInventory.forEach(c),document.documentElement.style.setProperty("--generator-speed-work",1/H.incomeRate+"s"),Date.now()>=H.lastIncome+1/H.incomeRate*1e3){H.generatorsOnField.forEach(c);let u=0,m=[];H.generatorsOnField.forEach((e,t)=>{e instanceof A&&(u+=e.income,C(25)&&100*Math.random()<e.getDiamondChance()&&(H.diamonds+=e.getDiamondAmount(),m[t]=e.getDiamondAmount()))}),H.cash+=u,document.querySelectorAll(".generator p").forEach((e,t)=>{e.innerHTML=`+${H.generatorsOnField[t]instanceof A?G.format(H.generatorsOnField[t].income,2):1}$`,m[t]&&(e.innerHTML+=`<br><span class="diamond" style="font-size: 50%; position: absolute; transform: translateX(-50%);">+${G.format(m[t])}ðŸ’Ž</span>`),e.classList.add("no-transition"),e.style.lineHeight="75%",e.style.top="50%",e.style.opacity="1",setTimeout(()=>{e.classList.remove("no-transition"),e.style.top="25%",e.style.opacity="0"},16.666666666666668)}),r.querySelectorAll("div").forEach(e=>{let t=e.querySelector("p"),n=t.style.getPropertyValue("--decreasedSize");if(t.clientWidth>e.clientWidth){let r=t.clientWidth/e.clientWidth*1.05;t.style.fontSize=getComputedStyle(t).fontSize.slice(0,-2)/r+"px",t.style.setProperty("--decreasedSize",r)}else n&&t.clientWidth*n<=e.clientWidth&&(t.style="")}),H.lastIncome=Date.now(),H.lastLoop=Date.now()}e.updateAll()}Date.now()>=n+1e3&&(function e(){let n=window.btoa(JSON.stringify(H));localStorage.setItem(t,n),console.log("Game saved!")}(),n=Date.now())},16.666666666666668)};class A{constructor(e,t){this.type=e,this.level=1,t&&"object"==typeof t&&("number"==typeof t?.level&&(this.level=t.level),"number"==typeof t?.index&&(this.index=t.index)),this.updateEverything()}getIncome(){return k[this.type].income*this.getLevelEffect()*I}getSellCost(){return k[this.type].sell*(k[this.type].levelCostFormula(this.level-1)/k[this.type].levelCostFormula(0))}getDiamondChance(){return .1*F}getDiamondAmount(){return 1*T}addToField(e){if(e<H.generatorsOnField.length){let t=document.querySelectorAll("#field > .generator");H.generatorsInInventory.splice(l,1),t[e]&&H.generatorsOnField[e]instanceof A&&H.generatorsOnField[e].addToInventory(),t?.[e]?.remove(),H.generatorsOnField[e]=this;let n=document.querySelector("#field");e<t.length-1?n.insertBefore(this.fieldHTML,n.children[e]):e===t.length-1&&n.append(this.fieldHTML),this.index=e}}addToInventory(){H.generatorsInInventory.push(this),H.generatorsInInventory.sort((e,t)=>t.income-e.income),G.updateInventoryHTML()}getFieldHTML(){let e=document.createElement("div");return e.classList.add("generator"),e.classList.add(this.type),e.innerHTML=`<p>+${G.format(this.income,2)}$</p>`,e.addEventListener("mousedown",()=>{if(i)H.generatorsInInventory[l].addToField(this.index),G.cancelPlacingGenerator(),G.updateInventoryHTML();else if(p){let e=H.generatorsOnField.indexOf(this);H.generatorsOnField[e].addToInventory(),H.generatorsOnField[e]=void 0,document.querySelector("#field").children[e].remove(),G.appendUndefinedGenerator(G.getUndefinedGenerator(e),e)}}),e}getInventoryHTML(){let e=document.createElement("button");return e.classList.add("inventory-generator"),e.classList.add(this.type),e.innerHTML=`<p>${this.type.capitalize()}</p><p>+${G.format(this.income,2)}$</p><p>${this.level}</p>`,e.addEventListener("click",()=>{if(f){if(U&&H.cash+this.sellCost<O.newbie.cost){G.label("If you sell this generator, you won't have generators and you won't be able to buy another one!","negative");return}H.cash+=this.sellCost,H.generatorsInInventory.splice(this.index,1),G.updateInventoryHTML(),0===H.generatorsInInventory.length&&(f=!1)}else this.openInInventoryTools(this.index)}),e}updateEverything(){this.income=this.getIncome(),this.sellCost=this.getSellCost(),this.fieldHTML=this.getFieldHTML(),this.inventoryHTML=this.getInventoryHTML()}openInInventoryTools(e){l=e,G.cancelPlacingGenerator();let t=document.querySelector("#inventory-tools"),n=document.querySelector("#frame");G.updateHTMLInInventoryTools(),n.classList.add("no-transition"),n.style.backgroundColor="#00000000",n.classList.remove("no-transition"),n.style.backgroundColor="#00000079",t.show(),n.show()}openGeneratorGotMenu(){let e=document.querySelector("#generator-got");m=this.index,e.show(),document.querySelector("#frame-2").show(),e.querySelector(".inventory-generator")?.remove(),e.append(this.inventoryHTML)}getLevelCost(e=this.level-2+_){let t=k[this.type].levelCostFormula(e),n=k[this.type].levelCostFormula(1)/k[this.type].levelCostFormula(0),r=(t*n-k[this.type].levelCostFormula(this.level-1))/(n-1);return Math.ceil(r)}getLevelEffect(e=this.level-1){return k[this.type].levelEffectFormula(e)}}let k={basic:{income:1,sell:1,levelCostFormula:e=>10*1.04**e,levelEffectFormula:e=>1.03**e**.75},uncommon:{income:2,sell:2,levelCostFormula:e=>25*1.04**e,levelEffectFormula:e=>1.03**e**.75},rare:{income:3,sell:6,levelCostFormula:e=>50*1.04**e,levelEffectFormula:e=>1.03**e**.75},epic:{income:6,sell:50,levelCostFormula:e=>125*1.04**e,levelEffectFormula:e=>1.03**e**.75},legendary:{income:5,sell:1e3,levelCostFormula:e=>300*1.04**e,levelEffectFormula:e=>1.03**e**.75},mythical:{income:7,sell:3500,levelCostFormula:e=>1e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},unique:{income:10,sell:10500,levelCostFormula:e=>2750*1.04**e,levelEffectFormula:e=>1.03**e**.75},fabled:{income:15,sell:3e4,levelCostFormula:e=>7250*1.04**e,levelEffectFormula:e=>1.03**e**.75},divine:{income:30,sell:45e4,levelCostFormula:e=>20500*1.04**e,levelEffectFormula:e=>1.03**e**.75},exotic:{income:25,sell:2e5,levelCostFormula:e=>85e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},arcane:{income:35,sell:65e4,levelCostFormula:e=>315e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},ethereal:{income:47,sell:225e4,levelCostFormula:e=>11e5*1.04**e,levelEffectFormula:e=>1.03**e**.75},titanic:{income:65,sell:12e6,levelCostFormula:e=>4e6*1.04**e,levelEffectFormula:e=>1.03**e**.75},phantom:{income:100,sell:5e7,levelCostFormula:e=>13e6*1.04**e,levelEffectFormula:e=>1.03**e**.75},transcendent:{income:175,sell:6e8,levelCostFormula:e=>4e7*1.04**e,levelEffectFormula:e=>1.03**e**.75}},O={newbie:{chances:[["basic",65],["uncommon",25],["rare",9],["epic",1],],cost:10},intermediate:{chances:[["legendary",70],["mythical",25],["unique",4],["fabled",.9],["divine",.1],],cost:1e4},advanced:{chances:[["exotic",73],["arcane",21],["ethereal",5],["titanic",.89],["phantom",.1],["transcendent",.01]],cost:25e5}}}();