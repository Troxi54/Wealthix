function theme(){for(let e=0;e<arguments.length;e++){let n=arguments[e];if(n&&"string"==typeof n&&(n=n.replace(/[ ]/g,"")).includes(":")){let t=n.indexOf(":");if(0!==t&&t!==n.length-1){let r=n.slice(0,t),o=n.slice(t+1);document.documentElement.style.setProperty("--"+r,o)}}}}!function(){let e={update(e,n){e.innerHTML!==n&&(e.innerHTML=n)},updateAll(){for(let n in e)if(!["update, updateAll"].includes(n)){let t=document.querySelector(("#"+n).replace(/[_]/g,"-"));t&&e.update(t,e[n]())}},cash_amount:()=>`${H.format(x.cash)}$`,main_frame_header:()=>o[r],selling:()=>d?H.format(x.generatorsInInventory[l].sellCost,2)+"$":"Sell",selling_2:()=>c?H.format(x.generatorsInInventory[m].sellCost,2)+"$":"Sell",placing_generator_info:()=>u?"Unequipping a generator":"Placing the generator",upgrading:()=>v?`${H.format(x.generatorsInInventory[l].getLevelCost())}$`:"Upgrade",close_main_frame_text:()=>y?"<":">",is_inventory_empty:()=>0===x.generatorsInInventory.length?"Your inventory is empty":"",bulk_sell_text:()=>$?"Cancel":"Bulk sell",close_upgrade_frame_text:()=>g?">":"<",level:()=>`Level <span class="level">${H.format(x.level)}</span>`,level_up_text:()=>H.format(L)+"$",inventory_slots:()=>H.format(x.generatorsInInventory.length+x.generatorsOnField.filter(e=>e instanceof G).length)+"/"+H.format(q),diamond_amount:()=>C(25)?H.format(x.diamonds)+"\uD83D\uDC8E":"",cash_income:()=>`+${H.format(E,2)}$/s<br>+${H.format(3600*E,2)}$/h`,upgrade_frame_header:()=>a[s],diamond_info:()=>`Every time generator gives <span class="cash">$</span>, it can also give you diamonds with a <span class="diamond">${.1*U}%</span> chance. Below are the upgrades you can buy with diamonds.`,diamond_upgrade_1_info:()=>`Increase your income by <span class="cash">+0.1%</span><br>${x.diamondUpgrades[1].level>0?'Effect: <span class="cash">+'+H.format((x.diamondUpgrades[1].effectFormula(x.diamondUpgrades[1].level)-1)*100,1)+"%</span>":""}`,diamond_upgrade_1_level:()=>`Level ${H.format(x.diamondUpgrades[1].level)}${x.diamondUpgrades[1].maxLevel===1/0?"":"/"+H.format(x.diamondUpgrades[1].maxLevel)}`,diamond_upgrade_1_buy_info:()=>`${x.diamondUpgrades[1].level<x.diamondUpgrades[1].maxLevel?H.format(x.diamondUpgrades[1].costFormula(x.diamondUpgrades[1].level)):"Maxed"}ðŸ’Ž`,diamond_upgrade_2_info:()=>`Increase your slots by <span class="slot">+1</span><br>${x.diamondUpgrades[2].level>0?'Effect: <span class="slot">+'+H.format(x.diamondUpgrades[2].effectFormula(x.diamondUpgrades[2].level))+"</span>":""}`,diamond_upgrade_2_level:()=>`Level ${H.format(x.diamondUpgrades[2].level)}${x.diamondUpgrades[2].maxLevel===1/0?"":"/"+H.format(x.diamondUpgrades[2].maxLevel)}`,diamond_upgrade_2_buy_info:()=>`${x.diamondUpgrades[2].level<x.diamondUpgrades[2].maxLevel?H.format(x.diamondUpgrades[2].costFormula(x.diamondUpgrades[2].level)):"Maxed"}ðŸ’Ž`,diamond_upgrade_3_info:()=>`Increase your inventory slots by <span class="inventory-slot">+1</span><br>${x.diamondUpgrades[3].level>0?'Effect: <span class="inventory-slot">+'+H.format(x.diamondUpgrades[3].effectFormula(x.diamondUpgrades[3].level))+"</span>":""}`,diamond_upgrade_3_level:()=>`Level ${H.format(x.diamondUpgrades[3].level)}${x.diamondUpgrades[3].maxLevel===1/0?"":"/"+H.format(x.diamondUpgrades[3].maxLevel)}`,diamond_upgrade_3_buy_info:()=>`${x.diamondUpgrades[3].level<x.diamondUpgrades[3].maxLevel?H.format(x.diamondUpgrades[3].costFormula(x.diamondUpgrades[3].level)):"Maxed"}ðŸ’Ž`},n="Wealthix",t=Date.now(),r=0,o=["Shop","Inventory"],s=0,a=["Level","Diamonds"],l=null,i=!1,d=!1,c=!1,p="",u=!1,m=null,v=!1,y=!1,g=!1,_=Date.now(),$=!1,f=!1,h=1,q=null,L=null,I=1,F=!0,S=!0,E=0,U=null,T=null,b=null,M=[{requirement:2,description:'Increase your income by <span class="cash">+10%</span>.'},{requirement:3,description:'Increase your income by <span class="cash">+1%</span> per level.'},{requirement:4,description:'<span class="slot">+1</span> slot.'},{requirement:5,description:'<span class="inventory-slot">+1</span> inventory slot.'},{requirement:6,description:'<span class="slot">+1</span> slot.'},{requirement:7,description:'<span class="inventory-slot">+2</span> inventory slots.'},{requirement:8,description:'<span class="inventory-slot">+3</span> inventory slots.'},{requirement:9,description:'<span class="slot">+1</span> slot.'},{requirement:10,description:'<span class="inventory-slot">+4</span> inventory slots.'},{requirement:11,description:'<span class="inventory-slot">+5</span> inventory slots.'},{requirement:12,description:'<span class="slot">+1</span> slot.'},{requirement:13,description:'<span class="inventory-slot">+6</span> inventory slots.'},{requirement:14,description:'<span class="slot">+1</span> slot.'},{requirement:15,description:'Unlock new <span style="color: var(--intermediate-constructor-div-bg-color);">constructor</span>.'},{requirement:16,description:'<span class="inventory-slot">+7</span> inventory slots.'},{requirement:17,description:'<span class="inventory-slot">+8</span> inventory slots.'},{requirement:18,description:'<span class="slot">+1</span> slot.'},{requirement:19,description:'<span class="inventory-slot">+9</span> inventory slots.'},{requirement:20,description:'<span class="inventory-slot">+10</span> inventory slots.'},{requirement:21,description:'<span class="slot">+1</span> slot.'},{requirement:22,description:'<span class="inventory-slot">+11</span> inventory slots.'},{requirement:23,description:'<span class="inventory-slot">+12</span> inventory slots.'},{requirement:24,description:'<span class="slot">+1</span> slot.'},{requirement:25,description:'Unlock <span class="diamond">diamonds</span> and increase your income by <span class="cash">+5%</span>.'},{requirement:26,description:'<span class="inventory-slot">+13</span> inventory slots.'},{requirement:27,description:'<span class="inventory-slot">+14</span> inventory slots.'},{requirement:28,description:'<span class="slot">+1</span> slot.'},{requirement:29,description:'<span class="inventory-slot">+15</span> inventory slots.'},{requirement:30,description:'<span class="inventory-slot">+16</span> inventory slots.'},{requirement:31,description:'<span class="slot">+1</span> slot.'},{requirement:32,description:'<span class="inventory-slot">+17</span> inventory slots.'},{requirement:33,description:'<span class="inventory-slot">+18</span> inventory slots.'},{requirement:34,description:'<span class="slot">+1</span> slot.'},{requirement:35,description:'<span class="inventory-slot">+19</span> inventory slots.'},{requirement:36,description:'<span class="inventory-slot">+20</span> inventory slots.'},{requirement:37,description:'<span class="inventory-slot">+5</span> inventory slots per level, starting at this one.'},{requirement:38,description:'<span class="slot">+1</span> slot.'},{requirement:39,description:'<span class="slot">+1</span> slot per 5 levels, starting at this one.'},{requirement:40,description:'Unlock new <span style="color: var(--advanced-constructor-div-bg-color);">constructor</span>.'},];function C(e){let n=M.find(n=>n.requirement===e);if(void 0!==n)return x.level>=n.requirement}let w={addEvent(e,n){e.addEventListener("click",n)},addAllEvents(){for(let e in w)if(!["addEvent"].includes(e)){let n=document.querySelector(("#"+e).replace(/[_]/g,"-"));n&&w.addEvent(n,w[e])}},inventory_tools_close(){H.closeInventoryTools(),l=null},equip_generator(){H.closeInventoryTools(),document.querySelector("#placing-generator").show(),i=!0,document.body.classList.add("placingGenerator")},cancel_placing_generator(){u?H.cancelUnequippingGenerator():H.cancelPlacingGenerator()},sell_generator(){d?(x.cash+=x.generatorsInInventory[l].sellCost,x.generatorsInInventory.splice(l,1),H.updateInventoryHTML(),H.closeInventoryTools()):d=!0,v=!1,document.querySelector("#upgrade-generator-bulk").hide()},generator_got_sell(){c?(x.cash+=x.generatorsInInventory[m].sellCost,x.generatorsInInventory.splice(m,1),H.updateInventoryHTML(),H.closeGeneratorGotMenu()):c=!0},constructor_opened_close(){H.closeConstructor()},constructor_opened_buy(){H.buyConstructor(p)},generator_got_ok(){H.closeGeneratorGotMenu(),H.updateInventoryHTML()},unequip_generator(){document.querySelector("#unequip-generator").hide(),document.querySelector("#placing-generator").show(),u=!0,document.body.classList.add("unequippingGenerator")},upgrade_generator(){if(v){let e=x.generatorsInInventory[l].getLevelCost();x.cash>=e&&(x.generatorsInInventory[l].level+=h,x.cash-=e,x.generatorsInInventory[l].updateEverything(),H.updateInventoryHTML(),H.updateHTMLInInventoryTools())}v=!0,d=!1,document.querySelector("#upgrade-generator-bulk").show()},close_main_frame(){let e=document.querySelector("#main-frame"),n=document.querySelector("#main-frame-container");y?(n.className="",e.show()):(n.className="hidden",e.hide()),y=!y},bulk_sell(){x.generatorsInInventory.length>0&&($=!$)},close_upgrade_frame(){let e=document.querySelector("#upgrade-frame"),n=document.querySelector("#upgrade-frame-container");g?(n.className="",e.show()):(n.className="hidden",e.hide()),g=!g},level_up(){x.cash>=L&&(x.cash-=L,x.level+=1,H.updateValues(),H.updateInventoryGenerators(),H.updateInventoryHTML(),H.updateLevelMilestones())},diamond_upgrade_1_buy(){let e=x.diamondUpgrades[1].costFormula(x.diamondUpgrades[1].level);x.diamonds>=e&&x.diamondUpgrades[1].level<x.diamondUpgrades[1].maxLevel&&(x.diamonds-=e,x.diamondUpgrades[1].level+=1,H.updateValues(),H.updateInventoryGenerators(),H.updateInventoryHTML())},diamond_upgrade_2_buy(){let e=x.diamondUpgrades[2].costFormula(x.diamondUpgrades[2].level);x.diamonds>=e&&x.diamondUpgrades[2].level<x.diamondUpgrades[2].maxLevel&&(x.diamonds-=e,x.diamondUpgrades[2].level+=1,H.updateValues())},diamond_upgrade_3_buy(){let e=x.diamondUpgrades[3].costFormula(x.diamondUpgrades[3].level);x.diamonds>=e&&x.diamondUpgrades[3].level<x.diamondUpgrades[3].maxLevel&&(x.diamonds-=e,x.diamondUpgrades[3].level+=1,H.updateValues())}};Element.prototype.hide=function(){this.style.display="none"},Element.prototype.show=function(){this.style.display=""},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Number.prototype.min=function(e){return this<e?this:e},Number.prototype.max=function(e){return this>e?this:e},Number.prototype.softcap=function(e,n,t,r=!1){var o=this;return!r&&o>=e&&([0,"pow"].includes(t)&&(o=(o/e).max(1)**n*e),[1,"mul"].includes(t)&&(o=(o-e)/n+e)),o};let x={cash:10,slots:9,level:1,generatorsOnField:[],generatorsInInventory:[],incomeRate:1,discoveredGenerators:{},openingConstructorSpeed:1,diamonds:0,diamondUpgrades:{1:{level:0,maxLevel:1/0,effectFormula:e=>1+.001*e,costFormula:e=>1*(1+Math.floor(e/100))},2:{level:0,maxLevel:10,effectFormula:e=>1*e,costFormula:e=>10*(e+1)},3:{level:0,maxLevel:1/0,effectFormula:e=>1*e,costFormula:e=>1*(1+Math.floor(e/100))}}},H={format(e,n=0){let t=["","K","M","B","T","Qd","Qn","Sx","Sp"],r=function(e,n){return Math.floor(e*10**n)/10**n};if(0===(e+=e/1e12))return"0";if(e>0&&e<1||e<1e3)return r(e,n)+"";if(e<1e9)return(r(e,0)+"").replace(/\B(?=(\d{3})+(?!\d))/g,",");if(e<1e3**t.length){let o=function(e,n){let r=Math.floor(Math.log10(e)/3);return Math.floor(e/1e3**r*10**n)/10**n+t[r]},s=Math.floor(Math.log10(e)/3),a=e-Math.floor(e/1e3**s*1e3)/1e3*1e3**s;return a?o(e,3)+" + "+o(a,0):o(e,3)}return e.toExponential(4).replace(/[+]/g,"")},updateValues(){x.incomeRate=1,x.openingConstructorSpeed=1,L=(25*1.75**(x.level-1)).softcap(25e3,.5,"pow").softcap(1e6,.5,"pow").softcap(1e7,.5,"pow").softcap(1e8,.5,"pow").softcap(1e9,.5,"pow"),I=1,C(2)&&(I*=1.1),C(3)&&(I*=1+x.level/100),C(25)&&(I*=1.05),I*=x.diamondUpgrades[1].effectFormula(x.diamondUpgrades[1].level),E=0,x.generatorsOnField.forEach(e=>{e instanceof G&&(E+=e.income*x.incomeRate)}),q=10,C(5)&&q++,C(7)&&(q+=2),C(8)&&(q+=3),C(10)&&(q+=4),C(11)&&(q+=5),C(13)&&(q+=6),C(16)&&(q+=7),C(17)&&(q+=8),C(19)&&(q+=9),C(20)&&(q+=10),C(22)&&(q+=11),C(23)&&(q+=12),C(26)&&(q+=13),C(27)&&(q+=14),C(29)&&(q+=15),C(30)&&(q+=16),C(32)&&(q+=17),C(33)&&(q+=18),C(35)&&(q+=19),C(36)&&(q+=20),C(37)&&(q+=5*(x.level-36).max(0)),q+=x.diamondUpgrades[3].effectFormula(x.diamondUpgrades[3].level);let e=9;C(4)&&e++,C(6)&&e++,C(9)&&e++,C(12)&&e++,C(14)&&e++,C(18)&&e++,C(21)&&e++,C(24)&&e++,C(28)&&e++,C(31)&&e++,C(34)&&e++,C(38)&&e++,C(39)&&(e+=Math.floor((x.level-34)/5)),e+=x.diamondUpgrades[2].effectFormula(x.diamondUpgrades[2].level);let n=e-x.slots;if(x.slots=e,n<0)H.clearField();else if(n>0){let t=document.querySelector("#field");for(let r=0;r<n;r++)x.generatorsOnField.push(void 0),t.append(H.getUndefinedGenerator(t.children.length))}U=1,T=1,b=Math.floor((Date.now()-_)/(1e3*x.incomeRate))},updateInventoryGenerators(){x.generatorsInInventory.forEach(e=>e.updateEverything())},updateInventoryHTML(){document.querySelectorAll("#inventory-generator-container > button").forEach(e=>{e.remove()}),x.generatorsInInventory.forEach((e,n)=>{e.index=n,document.querySelector("#inventory-generator-container").append(e.inventoryHTML)})},getUndefinedGenerator(e){let n=document.createElement("div");return n.classList.add("generator"),n.classList.add("undefined"),n.innerHTML="<p>+</p>",n.addEventListener("mousedown",()=>{i&&(x.generatorsInInventory[l].addToField(e),H.cancelPlacingGenerator(),H.updateInventoryHTML())}),n},appendUndefinedGenerator(e,n){let t=document.querySelector("#field"),r=document.querySelectorAll("#field > .generator");n<r.length?t.insertBefore(e,t.children[n]):t.append(e)},fillGeneratorArray(){let e=document.querySelector("#field");x.generatorsOnField.forEach((n,t)=>{if(n instanceof G)e.append(n.fieldHTML);else{let r=this.getUndefinedGenerator(t);e.append(r)}})},switchMainTab(e){document.querySelectorAll("#main-frame-content > div").forEach((n,t)=>{e!==t&&n.hide()}),document.querySelectorAll("#main-frame-content > div")[e].show(),r=e},updateHTMLInInventoryTools(){let e=document.querySelector("#inventory-tools");e.querySelectorAll(".inventory-generator").forEach(e=>{e.remove()}),x.generatorsInInventory[l].updateEverything();let n=x.generatorsInInventory[l];e.append(n.inventoryHTML),document.querySelector("#inventory-tools-info").innerHTML=`<span class="rarity">Rarity:</span> ${n.type.capitalize()}<br><span class="cash">Income:</span> +${H.format(n.income,2)}$<br><span class="level">Level:</span> ${n.level}`},closeInventoryTools(){document.querySelector("#frame").hide(),document.querySelector("#inventory-tools").hide(),document.querySelector("#upgrade-generator-bulk").hide(),d=!1,v=!1},cancelPlacingGenerator(){i&&(i=!1,document.body.classList.remove("placingGenerator"),document.querySelector("#placing-generator").hide())},updateConstructorGenerators(){let e=document.querySelector("#constructor-opened-generators");e.innerHTML="",O[p].chances.forEach(n=>{let t=new G(n[0]).inventoryHTML;x.discoveredGenerators[n[0]]||(t.className="inventory-generator",n[1]>1?t.classList.add("undiscovered"):n[1]>.01?t.classList.add("super-undiscovered"):t.classList.add("mega-undiscovered"),t.children[0].innerHTML="",t.children[1].innerHTML="?"),t.children[2].innerHTML=n[1]+"%",e.append(t)})},openConstructor(e){if(e){let n="intermediate"===e?C(15):"advanced"!==e||C(40);if(n){document.querySelector("#constructor-opened").show(),document.querySelector("#frame").show();let t=document.querySelector("#constructor-opened-div");t.className="div",t.classList.add(e),document.querySelector("#constructor-opened-info").innerHTML=`${e.capitalize()} constructor<br><span class="cash">${this.format(O[e].cost)}$</span>`,p=e,this.updateConstructorGenerators()}}},closeConstructor(){document.querySelector("#frame").hide(),document.querySelector("#constructor-opened").hide()},buyConstructor(e){let n="intermediate"===e?C(15):"advanced"!==e||C(40),t=x.generatorsInInventory.length+x.generatorsOnField.filter(e=>e instanceof G).length<q;if(n&&x.cash>=O[e].cost&&!f&&t){x.cash-=O[e].cost,f=!0;let r=document.querySelector("#div-animation"),o=document.querySelector("#div-animation-frame");r.className="div no-transition",r.classList.add(p),r.style.transform="scale(2)",r.classList.remove("no-transition"),o.style.opacity="0",o.show(),o.style.transition="all "+500/x.openingConstructorSpeed+"ms",setTimeout(()=>{o.style.opacity="1",setTimeout(()=>{setTimeout(()=>{r.style.transition="all "+1e3/x.openingConstructorSpeed+"ms",r.style.transform="scale(4)",r.style.opacity="0",setTimeout(()=>{r.style="",o.style="",o.hide();let n=0,t=100*Math.random();O[e].chances.every(e=>{if(t<(n+=e[1])){let r=new G(e[0]);return r.addToInventory(),r.openGeneratorGotMenu(),x.discoveredGenerators[e[0]]||(x.discoveredGenerators[e[0]]={gottenTimes:0,firstReceiptDate:Date.now()},this.updateConstructorGenerators()),!1}return!0})},1e3/x.openingConstructorSpeed)},100/x.openingConstructorSpeed)},500/x.openingConstructorSpeed)},16.666666666666668)}},closeGeneratorGotMenu(){document.querySelector("#frame-2").hide(),document.querySelector("#generator-got").hide(),c=!1,f=!1},cancelUnequippingGenerator(){u&&(u=!1,document.body.classList.remove("unequippingGenerator"),document.querySelector("#placing-generator").hide(),H.isFieldEmpty()&&document.querySelector("#unequip-generator").show())},isFieldEmpty:()=>(is=!1,x.generatorsOnField.every(e=>!(e instanceof G)||(is=!0,!1)),is),clearField(){x.generatorsOnField.forEach(e=>{e instanceof G&&e.addToInventory()}),x.generatorsOnField=[...Array(x.slots)],document.querySelector("#field").innerHTML="",H.fillGeneratorArray()},updateLevelMilestones(){let e=document.querySelector("#level-milestones");e.innerHTML="",M.every((n,t)=>{let r=t-2;if(r>=0&&x.level<M[r].requirement){let o=document.createElement("div");return o.innerHTML="<br><p>Level up to see more</p>",e.append(o),!1}let s=document.createElement("div");return s.innerHTML=`<p>Level ${n.requirement}<br><span class="level-milestone-description">${n.description}</span></p>`,e.append(s),!0})},switchUpgradeTab(e){document.querySelectorAll("#upgrade-frame-content > div").forEach((n,t)=>{e!==t&&n.hide()}),document.querySelectorAll("#upgrade-frame-content > div")[e].show(),s=e},calculateAfk(){let e=0,n=0;x.generatorsOnField.forEach((t,r)=>{t instanceof G&&(e+=t.income*(b-1),n+=t.getDiamondAmount()*Math.floor(t.getDiamondChance()*(b-1)/100))}),x.cash+=e,C(25)&&(x.diamonds+=n)}};window.onload=()=>{x.generatorsOnField=[...Array(x.slots)],document.querySelector("#upgrade-generator-input").addEventListener("input",function(){this.value.length>3&&(this.value=this.value.slice(0,3)),""!==this.value&&1>+this.value&&(this.value=1),this.value=this.value.replace(/[.]/g,""),this.value&&(h=+this.value)}),document.querySelector("#upgrade-generator-input").addEventListener("focusout",function(){this.value||(this.value="1"),h=+this.value}),document.querySelectorAll("#main-frame-tabs > button").forEach((e,n)=>{e.addEventListener("click",()=>{H.switchMainTab(n)})}),document.querySelectorAll("#upgrade-frame-tabs > button").forEach((e,n)=>{e.addEventListener("click",()=>{H.switchUpgradeTab(n)})}),document.querySelectorAll("#shop-content > div > div > button").forEach((e,n)=>{e.addEventListener("click",()=>{H.openConstructor(e.id)})}),window.addEventListener("click",function(e){["upgrade-generator","upgrade-generator-input"].includes(e.target.id)||(v=!1,document.querySelector("#upgrade-generator-bulk").hide()),["sell-generator"].includes(e.target.id)||(d=!1)}),w.addAllEvents(),H.switchMainTab(0),H.switchUpgradeTab(0),function e(){let t=localStorage.getItem(n);if(t){let r=JSON.parse(window.atob(t));if(r)for(let o in r){if(["generatorsOnField","generatorsInInventory"].includes(o)&&r[o].forEach((e,n)=>{e&&"object"==typeof e&&e.level&&e.type&&(r[o][n]=new G(e.type,{level:e.level,index:e.index}))}),["diamondUpgrades"].includes(o)){for(let s in r[o])x[o][s].level=+r[o][s].level;continue}x[o]=r[o]}}}(),H.fillGeneratorArray(),H.updateInventoryHTML(),H.updateLevelMilestones(),H.updateValues(),x.generatorsOnField.forEach((e,n)=>{e&&e instanceof G&&(e.index=n)}),setInterval(()=>{if(!document.hidden){H.updateValues(),b>=2&&H.calculateAfk(),x.slots<x.generatorsOnField.length&&H.clearField();let r=document.querySelector("#field"),o=100/Math.ceil(x.slots**.5);document.documentElement.style.setProperty("--generator-size",o+"%"),document.documentElement.style.setProperty("--generator-size-px",r.clientWidth*o/100+"px"),document.documentElement.style.setProperty("--generator-dimension",Math.ceil(x.slots**.5)),r.querySelectorAll("div").forEach(e=>{let n=e.querySelector("p"),t=n.style.getPropertyValue("--decreasedSize");if(n.clientWidth>e.clientWidth){let r=n.clientWidth/e.clientWidth*1.05;n.style.fontSize=getComputedStyle(n).fontSize.slice(0,-2)/r+"px",n.style.setProperty("--decreasedSize",r)}else t&&n.clientWidth*t/1.05<=e.clientWidth&&(n.style="")});let a=document.querySelector("#unequip-generator");H.isFieldEmpty()?u||a.show():(a.hide(),u&&H.cancelUnequippingGenerator());let l=document.querySelector("#diamond-tab");C(25)?l.show():(l.hide(),1===s&&H.switchUpgradeTab(0));let i=document.querySelector("#intermediate-constructor");C(15)?F&&(i.show(),F=!1):(i.hide(),F=!0);let d=document.querySelector("#advanced-constructor");C(40)?S&&(d.show(),S=!1):(d.hide(),S=!0);let c=e=>{e instanceof G&&e.updateEverything()};if(x.generatorsOnField.forEach(c),x.generatorsInInventory.forEach(c),document.documentElement.style.setProperty("--generator-speed-work",1/x.incomeRate+"s"),Date.now()>=_+1/x.incomeRate*1e3){let p=0,m=[];x.generatorsOnField.forEach((e,n)=>{e instanceof G&&(p+=e.income,C(25)&&100*Math.random()<e.getDiamondChance()&&(x.diamonds+=e.getDiamondAmount(),m[n]=e.getDiamondAmount()))}),x.cash+=p,document.querySelectorAll(".generator p").forEach((e,n)=>{e.innerHTML=`+${x.generatorsOnField[n]instanceof G?H.format(x.generatorsOnField[n].income,2):1}$`,m[n]&&(e.innerHTML+=`<br><span class="diamond" style="font-size: 50%; position: absolute; transform: translateX(-50%);">+${H.format(m[n])}ðŸ’Ž</span>`),e.classList.add("no-transition"),e.style.lineHeight="75%",e.style.top="50%",e.style.opacity="1",setTimeout(()=>{e.classList.remove("no-transition"),e.style.top="25%",e.style.opacity="0"},16.666666666666668)}),_=Date.now()}e.updateAll()}Date.now()>=t+1e3&&(function e(){let t=window.btoa(JSON.stringify(x));localStorage.setItem(n,t),console.log("Game saved!")}(),t=Date.now())},16.666666666666668)};class G{constructor(e,n){this.type=e,this.level=1,n&&"object"==typeof n&&("number"==typeof n?.level&&(this.level=n.level),"number"==typeof n?.index&&(this.index=n.index)),this.updateEverything()}getIncome(){return A[this.type].income*this.getLevelEffect()*I}getSellCost(){return A[this.type].sell*(A[this.type].levelCostFormula(this.level-1)/A[this.type].levelCostFormula(0))}getDiamondChance(){return .1*U}getDiamondAmount(){return 1*T}addToField(e){if(e<x.generatorsOnField.length){let n=document.querySelectorAll("#field > .generator");x.generatorsInInventory.splice(l,1),n[e]&&x.generatorsOnField[e]instanceof G&&x.generatorsOnField[e].addToInventory(),n?.[e]?.remove(),x.generatorsOnField[e]=this;let t=document.querySelector("#field");e<n.length-1?t.insertBefore(this.fieldHTML,t.children[e]):e===n.length-1&&t.append(this.fieldHTML),this.index=e}}addToInventory(){x.generatorsInInventory.push(this),x.generatorsInInventory.sort((e,n)=>n.income-e.income),H.updateInventoryHTML()}getFieldHTML(){let e=document.createElement("div");return e.classList.add("generator"),e.classList.add(this.type),e.innerHTML=`<p>+${H.format(this.income,2)}$</p>`,e.addEventListener("mousedown",()=>{if(i)x.generatorsInInventory[l].addToField(this.index),H.cancelPlacingGenerator(),H.updateInventoryHTML();else if(u){let e=x.generatorsOnField.indexOf(this);x.generatorsOnField[e].addToInventory(),x.generatorsOnField[e]=void 0,document.querySelector("#field").children[e].remove(),H.appendUndefinedGenerator(H.getUndefinedGenerator(e),e)}}),e}getInventoryHTML(){let e=document.createElement("button");return e.classList.add("inventory-generator"),e.classList.add(this.type),e.innerHTML=`<p>${this.type.capitalize()}</p><p>+${H.format(this.income,2)}$</p><p>${this.level}</p>`,e.addEventListener("click",()=>{$?(x.cash+=this.sellCost,x.generatorsInInventory.splice(this.index,1),H.updateInventoryHTML(),0===x.generatorsInInventory.length&&($=!1)):this.openInInventoryTools(this.index)}),e}updateEverything(){this.income=this.getIncome(),this.sellCost=this.getSellCost(),this.fieldHTML=this.getFieldHTML(),this.inventoryHTML=this.getInventoryHTML()}openInInventoryTools(e){l=e,H.cancelPlacingGenerator();let n=document.querySelector("#inventory-tools"),t=document.querySelector("#frame");H.updateHTMLInInventoryTools(),t.classList.add("no-transition"),t.style.backgroundColor="#00000000",t.classList.remove("no-transition"),t.style.backgroundColor="#00000079",n.show(),t.show()}openGeneratorGotMenu(){let e=document.querySelector("#generator-got");m=this.index,e.show(),document.querySelector("#frame-2").show(),e.querySelector(".inventory-generator")?.remove(),e.append(this.inventoryHTML)}getLevelCost(e=this.level-2+h){let n=A[this.type].levelCostFormula(e),t=A[this.type].levelCostFormula(1)/A[this.type].levelCostFormula(0),r=(n*t-A[this.type].levelCostFormula(this.level-1))/(t-1);return Math.ceil(r)}getLevelEffect(e=this.level-1){return A[this.type].levelEffectFormula(e)}}let A={basic:{income:1,sell:1,levelCostFormula:e=>10*1.04**e,levelEffectFormula:e=>1.03**e**.75},uncommon:{income:2,sell:2,levelCostFormula:e=>25*1.04**e,levelEffectFormula:e=>1.03**e**.75},rare:{income:3,sell:6,levelCostFormula:e=>50*1.04**e,levelEffectFormula:e=>1.03**e**.75},epic:{income:6,sell:50,levelCostFormula:e=>125*1.04**e,levelEffectFormula:e=>1.03**e**.75},legendary:{income:5,sell:1e3,levelCostFormula:e=>300*1.04**e,levelEffectFormula:e=>1.03**e**.75},mythical:{income:7,sell:3500,levelCostFormula:e=>1e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},unique:{income:10,sell:10500,levelCostFormula:e=>2750*1.04**e,levelEffectFormula:e=>1.03**e**.75},fabled:{income:15,sell:3e4,levelCostFormula:e=>7250*1.04**e,levelEffectFormula:e=>1.03**e**.75},divine:{income:30,sell:45e4,levelCostFormula:e=>20500*1.04**e,levelEffectFormula:e=>1.03**e**.75},exotic:{income:25,sell:2e5,levelCostFormula:e=>85e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},arcane:{income:35,sell:65e4,levelCostFormula:e=>315e3*1.04**e,levelEffectFormula:e=>1.03**e**.75},ethereal:{income:47,sell:225e4,levelCostFormula:e=>11e5*1.04**e,levelEffectFormula:e=>1.03**e**.75},titanic:{income:65,sell:12e6,levelCostFormula:e=>4e6*1.04**e,levelEffectFormula:e=>1.03**e**.75},phantom:{income:100,sell:5e7,levelCostFormula:e=>13e6*1.04**e,levelEffectFormula:e=>1.03**e**.75},transcendent:{income:175,sell:6e8,levelCostFormula:e=>4e7*1.04**e,levelEffectFormula:e=>1.03**e**.75}},O={newbie:{chances:[["basic",65],["uncommon",25],["rare",9],["epic",1],],cost:10},intermediate:{chances:[["legendary",70],["mythical",25],["unique",4],["fabled",.9],["divine",.1],],cost:1e4},advanced:{chances:[["exotic",73],["arcane",21],["ethereal",5],["titanic",.89],["phantom",.1],["transcendent",.01]],cost:25e5}}}();